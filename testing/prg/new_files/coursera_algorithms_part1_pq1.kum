использовать Файлы

цел число проходов по таблицам

алг
нач
целтаб ТЕСТ1[1:1] = { 1 }
целтаб ТЕСТ2[1:2] = { 3, 1 }
целтаб ТЕСТ3[1:7] = { 1, 3, 5, 7, 2, 4, 6 }
целтаб ТЕСТ4[1:2*10**4], цел число в ТЕСТ4
цел тест1, тест2, тест3, тест4                              

число проходов по таблицам:=0
тест1:=сортировка с подсчетом числа инверсий(1, ТЕСТ1)
утв тест1=0
утв число операций не превышено(1)           

число проходов по таблицам:=0
тест2:=сортировка с подсчетом числа инверсий(2, ТЕСТ2)
утв тест2=1
утв число операций не превышено(2) 

число проходов по таблицам:=0
тест3:=сортировка с подсчетом числа инверсий(7, ТЕСТ3)                                                      
утв тест3=6                                           
утв число операций не превышено(7)

вывод "Поиск числа инверсий в текстовом файле (20 000 чисел)", нс
вывод " - чтение файла..."
число в ТЕСТ4:=прочитать содержимое из файла(2*10**4, ТЕСТ4)
вывод " готово;", нс
вывод " - поиск числа инверсий..."
тест4:=сортировка с подсчетом числа инверсий(число в ТЕСТ4, ТЕСТ4)
вывод " готово.", нс
утв тест4=98614301
утв число операций не превышено(число в ТЕСТ4)
вывод "Тест пройден", нс 
кон

алг цел сортировка с подсчетом числа инверсий(цел N, аргрез целтаб A[1:N]) 
нач
если N<=1 
то 
знач:=0       
выход 
все
целтаб B[1:div(N,2)]
целтаб C[1:N-div(N,2)]
цел b, c, a                                   
цел k
число проходов по таблицам:=число проходов по таблицам+N
нц для k от 1 до div(N,2)
B[k]:=A[k]
кц
нц для k от div(N,2)+1 до N
C[k-div(N,2)]:=A[k]
кц
b:=сортировка с подсчетом числа инверсий(div(N,2), B)
c:=сортировка с подсчетом числа инверсий(N-div(N,2), C)
a:=слияние с подсчетом числа инверсий(div(N,2),N-div(N,2),B,C,A)                                                                      
знач:=a+b+c                           
кон

алг цел слияние с подсчетом числа инверсий(цел NB, NC, целтаб B[1:NB], C[1:NC], рез целтаб D[1:NB+NC]) 
нач
цел i=1, j=1
знач:=0
цел k
число проходов по таблицам:=число проходов по таблицам+NB+NC
нц для k от 1 до NB+NC
утв i<=NB или j<=NC
выбор
при i<=NB и j<=NC и B[i]<=C[j]:
D[k]:=B[i]
i:=i+1
при i<=NB и j<=NC и B[i]>C[j]:
D[k]:=C[j]                 
j:=j+1
знач:=знач+NB-i+1
при i<=NB и j>NC:
D[k]:=B[i]
i:=i+1
при i>NB и j<=NC:
D[k]:=C[j]
j:=j+1
все
кц
кон

алг вещ log_2(вещ x) 
нач
знач:=ln(x)/ln(2)
кон

алг лог число операций превышено(цел N)
нач
вещ коэффициент = 2.1
вещ сложность алгоритма                       
сложность алгоритма:=N*log_2(N)                               
знач:=число проходов по таблицам > коэффициент * сложность алгоритма
кон  

алг цел прочитать содержимое из файла(цел макс, рез целтаб таблица[1:макс]) 
нач
лит имя файла
имя файла:=КАТАЛОГ ПРОГРАММЫ+"/"+"IntegerArray.txt"
файл ф
ф:=открыть на чтение(имя файла)
цел i
знач:=0
нц для i от 1 до макс
ввод ф, таблица[i]
знач:=знач+1
кц при не есть данные(ф)
закрыть(ф)
кон


